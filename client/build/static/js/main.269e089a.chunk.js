(this.webpackJsonpmeseum=this.webpackJsonpmeseum||[]).push([[0],{205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var s,n,r,c,i=a(0),o=a.n(i),l=a(26),d=a.n(l),j=(a(55),a(8)),b=a(9),h=a(11),u=a(10),p=a(7),m=a(6),O=a(29),x=a(12),v=a.n(x),g=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},f="GET_ERRORS",w="USER_LOADING",N="SET_CURRENT_USER",y=function(e){return{type:N,payload:e}},k=function(){return function(e){localStorage.removeItem("jwtToken"),g(!1),e(y({}))}},C=a(21),S=a(24),_=a(49),E=a(14),A=a(79),L={isAuthenticated:!1,user:{},loading:!1},I={},R=Object(S.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(E.a)(Object(E.a)({},e),{},{isAuthenticated:!A(t.payload),user:t.payload});case w:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}}}),D=[_.a],T=Object(S.d)(R,{},Object(S.c)(S.a.apply(void 0,D),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||S.c)),F=a(1),U=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(F.jsx)("div",{style:{height:"75vh"},className:"container valign-wrapper",children:Object(F.jsx)("div",{className:"row",children:Object(F.jsxs)("div",{className:"col s12 center-align",children:[Object(F.jsx)("h4",{children:Object(F.jsx)("b",{children:"HELLO"})}),Object(F.jsx)("p",{className:"flow-text grey-text text-darken-1",children:"Welcome to (ME)seum! Where you can Explore and Create your own Art Gallery! \ud83d\uddbc"}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{className:"col s6",children:Object(F.jsx)(p.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Register"})}),Object(F.jsx)("div",{className:"col s6",children:Object(F.jsx)(p.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-flat waves-effect white black-text",children:"Log In"})})]})})})}}]),a}(i.Component),M=a(25),P=a(2),B=a.n(P),X=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(M.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return Object(F.jsx)("div",{className:"container",children:Object(F.jsx)("div",{className:"row",children:Object(F.jsxs)("div",{className:"col s8 offset-s2",children:[Object(F.jsxs)(p.b,{to:"/",className:"btn-flat waves-effect",children:[Object(F.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(F.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(F.jsxs)("h4",{children:[Object(F.jsx)("b",{children:"Register"})," below"]}),Object(F.jsxs)("p",{className:"grey-text text-darken-1",children:["Already have an account? ",Object(F.jsx)(p.b,{to:"/login",children:"Log in"})]})]}),Object(F.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(F.jsxs)("div",{className:"input-field col s12",children:[Object(F.jsx)("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:B()("",{invalid:e.name})}),Object(F.jsx)("label",{htmlFor:"name",children:"Name"}),Object(F.jsx)("span",{className:"red-text",children:e.name})]}),Object(F.jsxs)("div",{className:"input-field col s12",children:[Object(F.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:B()("",{invalid:e.email})}),Object(F.jsx)("label",{htmlFor:"email",children:"Email"}),Object(F.jsx)("span",{className:"red-text",children:e.email})]}),Object(F.jsxs)("div",{className:"input-field col s12",children:[Object(F.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:B()("",{invalid:e.password})}),Object(F.jsx)("label",{htmlFor:"password",children:"Password"}),Object(F.jsx)("span",{className:"red-text",children:e.password})]}),Object(F.jsxs)("div",{className:"input-field col s12",children:[Object(F.jsx)("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:B()("",{invalid:e.password2})}),Object(F.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(F.jsx)("span",{className:"red-text",children:e.password2})]}),Object(F.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(F.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Sign up"})})]})]})})})}}]),a}(i.Component),W=Object(C.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){v.a.post("/api/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:f,payload:e.response.data})}))}}})(Object(m.g)(X)),G=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(M.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/about")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/about"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return Object(F.jsx)("div",{className:"container",children:Object(F.jsx)("div",{style:{marginTop:"4rem"},className:"row",children:Object(F.jsxs)("div",{className:"col s8 offset-s2",children:[Object(F.jsxs)(p.b,{to:"/",className:"btn-flat waves-effect",children:[Object(F.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(F.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(F.jsxs)("h4",{children:[Object(F.jsx)("b",{children:"Login"})," below"]}),Object(F.jsxs)("p",{className:"grey-text text-darken-1",children:["Don't have an account? ",Object(F.jsx)(p.b,{to:"/register",children:"Register"})]})]}),Object(F.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(F.jsxs)("div",{className:"input-field col s12",children:[Object(F.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",placeholder:"email",className:B()("",{invalid:e.email||e.emailnotfound})}),Object(F.jsx)("label",{htmlFor:"email"}),Object(F.jsxs)("span",{className:"red-text",children:[e.email,e.emailnotfound]})]}),Object(F.jsxs)("div",{className:"input-field col s12 ",children:[Object(F.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",placeholder:"Password",className:B()("",{invalid:e.password||e.passwordincorrect})}),Object(F.jsx)("label",{htmlFor:"password"}),Object(F.jsxs)("span",{className:"red-text",children:[e.password,e.passwordincorrect]})]}),Object(F.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(F.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Login"})})]})]})})})}}]),a}(i.Component),V=Object(C.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){v.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),g(a);var s=Object(O.a)(a);t(y(s))})).catch((function(e){return t({type:f,payload:e.response.data})}))}}})(G),J=a(50),z=["component","auth"],H=Object(C.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,s=Object(J.a)(e,z);return Object(F.jsx)(m.b,Object(E.a)(Object(E.a)({},s),{},{render:function(e){return!0===a.isAuthenticated?Object(F.jsx)(t,Object(E.a)({},e)):Object(F.jsx)(m.a,{to:"/login"})}}))})),Y=a(23),q=a(13),$=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(F.jsxs)(q.Navbar,{children:[Object(F.jsxs)(q.Navbar.Brand,{children:[Object(F.jsx)(q.Navbar.Item,{renderAs:"div",children:Object(F.jsx)(p.b,{className:"nav-link logo",to:"/about",children:Object(F.jsxs)("strong",{children:["(",Object(F.jsx)("strong",{className:"logo-blue",children:"ME"}),")",Object(F.jsx)("strong",{children:"seum"})]})})}),Object(F.jsx)(q.Navbar.Burger,{})]}),Object(F.jsxs)(q.Navbar.Menu,{children:[Object(F.jsx)(q.Navbar.Container,{}),Object(F.jsx)(q.Navbar.Container,{}),Object(F.jsxs)(q.Navbar.Container,{children:[Object(F.jsx)(q.Navbar.Item,{renderAs:"div",children:Object(F.jsx)(p.b,{className:"nav-link",to:"/about",children:Object(F.jsx)("strong",{children:"ABOUT"})})}),Object(F.jsx)(q.Navbar.Item,{renderAs:"div",children:Object(F.jsx)(p.b,{className:"nav-link",to:"/explore",children:Object(F.jsx)("strong",{children:"EXPLORE"})})}),Object(F.jsx)(q.Navbar.Item,{renderAs:"div",children:Object(F.jsx)(p.b,{className:"nav-link",to:"/gallery",children:Object(F.jsx)("strong",{children:"GALLERY"})})})]}),Object(F.jsx)("div",{className:"navbar-end",children:Object(F.jsx)("div",{className:"navbar-item",children:Object(F.jsx)("div",{className:"buttons",children:Object(F.jsx)("button",{onClick:this.onLogoutClick,className:"button is-light",children:Object(F.jsx)("strong",{children:"LOGOUT"})})})})})]})]})}}]),a}(i.Component),K=Object(C.b)((function(e){return{auth:e.auth}}),{logoutUser:k})($),Q=function(e){return v.a.post("/api/artists",e)},Z=function(){return v.a.get("/api/artists")},ee=function(e){return v.a.delete("/api/artists/"+e)},te=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).artSave=function(t){var a={title:e.props.title,artist:e.props.artistName,date:e.props.date,medium:e.props.medium,dimensions:e.props.dimensions,imgUrl:e.props.imgUrl};Q(a).then((function(e){console.log(e)}))},e}return Object(b.a)(a,[{key:"render",value:function(){return console.log(this.props),Object(F.jsx)("div",{className:"columns is-mobile is-multiline is-centered",children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-content",children:[Object(F.jsx)("div",{className:"media-center",children:Object(F.jsx)("img",{className:"artsy-img",src:this.props.imgUrl})}),Object(F.jsx)("br",{}),Object(F.jsxs)("div",{className:"content",children:[Object(F.jsx)("strong",{children:this.props.artistName}),Object(F.jsx)("br",{}),Object(F.jsx)("em",{children:this.props.title}),Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:this.props.date}),Object(F.jsx)("li",{children:this.props.medium}),Object(F.jsx)("li",{children:this.props.dimensions})]}),Object(F.jsx)("button",{onClick:this.artSave,className:"button is-light is-primary is-pulled-right save-btn",children:Object(F.jsx)("i",{className:"fas fa-star"})}),Object(F.jsx)("br",{})]})]})})})}}]),a}(i.Component),ae="https://api.artsy.net/api/",se=function(){return v.a.post("".concat("https://api.artsy.net/api/tokens/xapp_token?","client_id=").concat("5b7eb2568e3b3f888f85","&client_secret=").concat("7941b6cc8fec588390fdb67abdc32930")).then((function(e){console.log("token data object: ",e),s=e.data.token,n=e.data.expires_at,console.log("token: ",s),console.log("expiration: ",n)}))},ne=function(e,t){return v.a.get("".concat(ae,"search?q=(").concat(e,")"),{headers:{"X-xapp-token":s}}).then((function(e){return console.log("artist data object: ",e),r=e.data._embedded.results.filter((function(e){return"artist"===e.type}))[0]._links.self.href.split("/").pop(),console.log("artistId: ",r),c=e.data._embedded.results.filter((function(e){return"artist"===e.type}))[0].title,console.log("artistName: ",c),v.a.get("".concat(ae,"artworks?artist_id=").concat(r),{headers:{"X-xapp-token":s}})})).then((function(e){console.log("results of searching artworks by artist ID: ",e),0==e.data._embedded.artworks.length?console.log("No art found! (ME)seum is only able to search public works, please try another artist."):setTimeout((function(){var a=5;e.data._embedded.artworks.length<=5&&(a=e.data._embedded.artworks.length);for(var n=[],r=0;r<a;r++){var i=e.data._embedded.artworks[r].id;n.push(v.a.get("".concat(ae,"/artworks/").concat(i),{headers:{"X-xapp-token":s}}))}v.a.all(n).then(v.a.spread((function(){for(var e=[],a=0;a<arguments.length;a++){var s=a<0||arguments.length<=a?void 0:arguments[a],n=s.data.id,r=s.data._links.thumbnail.href,i=s.data.title,o=s.data.date,l=s.data.medium,d=s.data.dimensions.in.text;e.push({imgId:n,imgUrl:r,title:i,date:o,medium:l,artistName:c,dimensions:d})}t(e)})))}),1e3)}))},re=q.Form.Field,ce=q.Form.Control,ie=q.Form.Input,oe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target.value;s.setState({search:t}),console.log(e.target),console.log(s.state)},s.handleFormSubmit=function(e){e.preventDefault(),ne(s.state.search,(function(e){s.setState({artworks:e})})),console.log(s.state.search)},s.state={value:"",artworks:[],search:""},s.handleInputChange=s.handleInputChange.bind(Object(Y.a)(s)),s.handleFormSubmit=s.handleFormSubmit.bind(Object(Y.a)(s)),s}return Object(b.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("load",se())}},{key:"render",value:function(){return console.log(this.state.artworks),Object(F.jsxs)("div",{children:[Object(F.jsx)(K,{}),Object(F.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(F.jsx)(re,{children:Object(F.jsx)(ce,{className:"has-icons-left",children:Object(F.jsx)(ie,{search:this.state.search,onChange:this.handleInputChange,placeholder:"Search your favorite artists here.",type:"text",color:"dark"})})})}),this.state.artworks.map((function(e,t){return Object(i.createElement)(te,Object(E.a)(Object(E.a)({},e),{},{key:t}))}))]})}}]),a}(i.Component),le=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(K,{}),Object(F.jsxs)("article",{className:"message",children:[Object(F.jsx)("div",{className:"message-header",children:Object(F.jsx)("p",{children:"About the site"})}),Object(F.jsxs)("div",{className:"message-body",children:[Object(F.jsxs)("p",{children:["Hello, and welcome to ",Object(F.jsx)("strong",{children:"(ME)seum"}),"!"]}),Object(F.jsx)("br",{}),Object(F.jsxs)("p",{children:["We're so glad you decided to check out our site. (ME)seum is a digital art browser, where you can search and learn about a wide variety of works of art from all around the world. Just visit the ",Object(F.jsx)(p.b,{className:"nav-link",to:"/explore",children:Object(F.jsx)("strong",{children:"explore"})})," page to begin your search."]}),Object(F.jsx)("br",{}),Object(F.jsxs)("p",{children:["On the explore page, just favorite a work of art to add it to your own personal ",Object(F.jsx)(p.b,{className:"nav-link",to:"/gallery",children:Object(F.jsx)("strong",{children:"gallery"})}),"! You can also rearrange the art on this page to your liking."]})]})]})]})},de=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).artDelete=function(t){var a=e.props._id;ee(e.props._id).then((function(t){console.log(t),e.props.updateState(a)}))},e}return Object(b.a)(a,[{key:"render",value:function(){return console.log(this.props),Object(F.jsx)("div",{className:"columns is-mobile is-multiline is-centered",children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-content",children:[Object(F.jsx)("div",{className:"media-center",children:Object(F.jsx)("img",{className:"artsy-img",src:this.props.imgUrl})}),Object(F.jsx)("br",{}),Object(F.jsxs)("div",{className:"content",children:[Object(F.jsx)("strong",{children:this.props.artistName}),Object(F.jsx)("br",{}),Object(F.jsx)("em",{children:this.props.title}),Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:this.props.date}),Object(F.jsx)("li",{children:this.props.medium}),Object(F.jsx)("li",{children:this.props.dimensions})]}),Object(F.jsx)("button",{onClick:this.artDelete,className:"button is-light is-primary is-pulled-right save-btn",children:Object(F.jsx)("i",{className:"fas fa-star"})}),Object(F.jsx)("br",{})]})]})})})}}]),a}(i.Component),je=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={artworks:[]},s.updateStateCallback=s.updateStateCallback.bind(Object(Y.a)(s)),s}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;Z().then((function(t){e.setState({artworks:t.data.data})}))}},{key:"updateStateCallback",value:function(e){this.setState({artworks:this.state.artworks.filter((function(t){return t._id!==e}))})}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{children:[Object(F.jsx)(K,{}),Object(F.jsx)("h3",{children:"Gallery"}),this.state.artworks.map((function(t,a){return Object(i.createElement)(de,Object(E.a)(Object(E.a)({},t),{},{key:a,updateState:e.updateStateCallback}))}))]})}}]),a}(i.Component);a(205);if(localStorage.jwtToken){var be=localStorage.jwtToken;g(be);var he=Object(O.a)(be);T.dispatch(y(he));var ue=Date.now()/1e3;he.exp<ue&&(T.dispatch(k()),window.location.href="./login")}var pe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(F.jsx)(C.a,{store:T,children:Object(F.jsx)(p.a,{children:Object(F.jsx)("div",{className:"App",children:Object(F.jsxs)(m.d,{children:[Object(F.jsx)(m.b,{exact:!0,path:"/",component:U}),Object(F.jsx)(m.b,{exact:!0,path:"/register",component:W}),Object(F.jsx)(m.b,{exact:!0,path:"/login",component:V}),Object(F.jsx)(H,{exact:!0,path:"/about",component:le}),Object(F.jsx)(H,{exact:!0,path:"/explore",component:oe}),Object(F.jsx)(H,{exact:!0,path:"/gallery",component:je})]})})})})}}]),a}(i.Component),me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(pe,{})}),document.getElementById("root")),me(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[206,1,2]]]);
//# sourceMappingURL=main.269e089a.chunk.js.map