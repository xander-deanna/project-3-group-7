{"version":3,"sources":["../../../src/components/image/image.js"],"names":["Image","className","alt","size","fallback","rounded","src","fullwidth","props","state","setState","s","defaultProps","renderAs"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,KAAK,GAAG,SAARA,KAAQ,OASR;AAAA;;AAAA,MARJC,SAQI,QARJA,SAQI;AAAA,MAPJC,GAOI,QAPJA,GAOI;AAAA,MANJC,IAMI,QANJA,IAMI;AAAA,MALJC,QAKI,QALJA,QAKI;AAAA,MAJJC,OAII,QAJJA,OAII;AAAA,MAHJC,GAGI,QAHJA,GAGI;AAAA,MAFJC,SAEI,QAFJA,SAEI;AAAA,MADDC,KACC;;AACJ,kBAA0B,qBAAS;AAAEF,IAAAA,GAAG,EAAHA;AAAF,GAAT,CAA1B;AAAA;AAAA,MAAOG,KAAP;AAAA,MAAcC,QAAd;;AACA,wBAAU,YAAM;AACdA,IAAAA,QAAQ,CAAC;AAAEJ,MAAAA,GAAG,EAAHA;AAAF,KAAD,CAAR;AACD,GAFD,EAEG,CAACA,GAAD,CAFH;AAGA,MAAIK,CAAC,GAAGR,IAAR;;AAEA,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5BQ,IAAAA,CAAC,aAAMA,CAAN,cAAWA,CAAX,CAAD;AACD;;AACD,sBACE,gCAAC,mBAAD,eACMH,KADN;AAEE,IAAA,SAAS,EAAE,6BAAW,OAAX,EAAoBP,SAApB,+DACFU,CADE,GACIA,CADJ,gCAET,cAFS,EAEOJ,SAFP;AAFb,mBAOE;AACE,IAAA,SAAS,EAAE,6BAAW;AACpB,oBAAcF;AADM,KAAX,CADb;AAIE,IAAA,OAAO,EAAE,mBAAM;AACb,aAAOI,KAAK,CAACH,GAAN,KAAcF,QAAd,IAA0BM,QAAQ,CAAC;AAAEJ,QAAAA,GAAG,EAAEF;AAAP,OAAD,CAAzC;AACD,KANH;AAOE,IAAA,GAAG,EAAEK,KAAK,CAACH,GAPb;AAQE,IAAA,GAAG,EAAEJ;AARP,IAPF,CADF;AAoBD,CAvCD;;AAmFAF,KAAK,CAACY,YAAN,GAAqB;AACnBC,EAAAA,QAAQ,EAAE;AADS,CAArB;eAIeb,K","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Image = ({\n  className,\n  alt,\n  size,\n  fallback,\n  rounded,\n  src,\n  fullwidth,\n  ...props\n}) => {\n  const [state, setState] = useState({ src });\n  useEffect(() => {\n    setState({ src });\n  }, [src]);\n  let s = size;\n\n  if (typeof size === 'number') {\n    s = `${s}x${s}`;\n  }\n  return (\n    <Element\n      {...props}\n      className={classnames('image', className, {\n        [`is-${s}`]: s,\n        'is-fullwidth': fullwidth,\n      })}\n    >\n      <img\n        className={classnames({\n          'is-rounded': rounded,\n        })}\n        onError={() => {\n          return state.src !== fallback && setState({ src: fallback });\n        }}\n        src={state.src}\n        alt={alt}\n      />\n    </Element>\n  );\n};\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  rounded: PropTypes.bool,\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      16,\n      24,\n      32,\n      48,\n      64,\n      96,\n      128,\n      'square',\n      '1by1',\n      '4by3',\n      '3by2',\n      '16by9',\n      '2by1',\n      '5by4',\n      '5by3',\n      '3by1',\n      '4by5',\n      '3by4',\n      '2by3',\n      '3by5',\n      '9by16',\n      '1by2',\n      '1by3',\n    ]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  fallback: PropTypes.string,\n  fullwidth: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nImage.defaultProps = {\n  renderAs: 'figure',\n};\n\nexport default Image;\n"],"file":"image.js"}